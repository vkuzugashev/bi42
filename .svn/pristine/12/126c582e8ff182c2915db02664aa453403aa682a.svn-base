@model Bi42.Models.Bid

@{
    ViewBag.Title = "Заявка №"+Model.BidID+", заказ №"+Model.OrderID;
}
<div class="row">
    <div class="col-md-12">
        @if (Model.BidStatusID == 1)
        {
            @Html.ActionLink("Изменить", "BidUpdate", new { id = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @if (Model.BidStatusID != 3)
        {
            @Html.ActionLink("Удалить | Закрыть заявку", "BidDelete", new { id = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @Html.ActionLink((string)("Лента публичных сообщений"+(ViewBag.NewPublicMessages > 0 ? ", Новых "+ ViewBag.NewPublicMessages : "")), "Index","PublicMessage", new { orderid = Model.OrderID, id = Model.BidID, retAction = "BidDetails" }, new { @class = "btn btn-default" })
        &nbsp;&nbsp;
        @Html.ActionLink((string)("Лента приватных сообщений" + (ViewBag.NewPrivateMessages > 0 ? ", Новых " + ViewBag.NewPrivateMessages : "")), "Index", "PrivateMessage", new { id = Model.BidID, retAction = "BidDetails" }, new { @class = "btn btn-default" })
        &nbsp; &nbsp;
        @if (Model.BidStatusID == 2 || Model.BidStatusID == 3)
        {
            @Html.ActionLink("Открыть контракт", "ContractText", "Contract", new { orderid = Model.OrderID, b = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @if (Model.BidStatusID == 3)
        {
            @Html.ActionLink("Отчёт о выполнении контракта", "ContractReport", "Contract", new { orderid = Model.OrderID, b = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
            @Html.ActionLink((string)("Задачи" + (ViewBag.NewOrderTasks > 0 ? ", Новых " + ViewBag.NewOrderTasks : "")), "Index", "OrderTask", new { orderid = Model.OrderID }, new { @class = "btn btn-default" })
            @:&nbsp; &nbsp;
        }
         @Html.ActionLink("Назад", "Index","Bid", null, new { @class = "btn btn-default" })
    </div>
</div>
<div class="row">&nbsp;</div>
<div class="row">
    <div class="col-md-3">
        <div class="row">
            @Html.LabelFor(model => model.OrderName)
            @Html.TextBoxFor(model => model.OrderName, new { @class = "form-control", @readonly="readonly" })
        </div>
        <div class="row">
            @Html.LabelFor(model => model.BudgetLevelName)
            @Html.TextBoxFor(model => model.BudgetLevelName, new { @class = "form-control", @readonly = "readonly" })
        </div>
        <div class="row">
            @Html.LabelFor(model => model.Budget)
            @Html.TextBoxFor(model => model.Budget, new { @class = "form-control", @readonly = "readonly" })
        </div>
        <div class="row">
            @Html.LabelFor(model => model.StartTime)
            @Html.TextBoxFor(model => model.StartTime, new { @class = "form-control", @readonly = "readonly" })
        </div>
        <div class="row">
            @Html.LabelFor(model => model.OrderStatusName)
            @Html.TextBoxFor(model => model.OrderStatusName, new { @class = "form-control", @readonly = "readonly" })
        </div>
    </div>

    <div class="col-md-offset-1 col-md-6">
        <div class="row">
            @Html.LabelFor(model => model.OrderDescription)
            @Html.TextAreaFor(model => model.OrderDescription, new { rows = 15, @class = "form-control", @readonly = "readonly" })
        </div>
    </div>
</div>

<br>
<h4>Моя заявка</h4>

    <div class="row">
        <div class="col-md-3">
            <div class="row">
                @Html.LabelFor(model => model.BidStatusName)
                @Html.TextBoxFor(model => model.BidStatusName, new { @class = "form-control", @readonly = "readonly" })
            </div>
            <div class="row">
                @Html.LabelFor(model => model.CostTotal)
                @Html.TextBoxFor(model => model.CostTotal, new { @class = "form-control", @readonly = "readonly" })
            </div>
            <div class="row">
                @Html.LabelFor(model => model.TimeRate)
                @Html.TextBoxFor(model => model.TimeRate, new { @class = "form-control", @readonly = "readonly" })
            </div>
            <div class="row">
                @Html.LabelFor(model => model.StartTime)
                @Html.TextBoxFor(model => model.StartTime, new { @class = "form-control", @readonly = "readonly" })
            </div>
        </div>
        <div class="col-md-offset-1 col-md-6">
            <div class="row">
                @Html.LabelFor(model => model.Description)
                @Html.TextAreaFor(model => model.Description, new { rows = 15, @class = "form-control", @readonly = "readonly" })
            </div>
        </div>
    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
    <div class="col-md-12">
        @if (Model.BidStatusID == 1)
        {
            @Html.ActionLink("Изменить", "BidUpdate", new { id = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @if (Model.BidStatusID != 3)
        {
            @Html.ActionLink("Удалить | Закрыть заявку", "BidDelete", new { id = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @Html.ActionLink((string)("Лента публичных сообщений" + (ViewBag.NewPublicMessages > 0 ? ", Новых " + ViewBag.NewPublicMessages : "")), "Index", "PublicMessage", new { orderid = Model.OrderID, id = Model.BidID, retAction = "BidDetails" }, new { @class = "btn btn-default" })
        &nbsp;&nbsp;
        @Html.ActionLink((string)("Лента приватных сообщений" + (ViewBag.NewPrivateMessages > 0 ? ", Новых " + ViewBag.NewPrivateMessages : "")), "Index", "PrivateMessage", new { id = Model.BidID, retAction = "BidDetails" }, new { @class = "btn btn-default" })
        &nbsp; &nbsp;
        @if (Model.BidStatusID == 2 || Model.BidStatusID == 3)
        {
            @Html.ActionLink("Открыть контракт", "ContractText", "Contract", new { orderid = Model.OrderID, b = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
        }
        @if (Model.BidStatusID == 3)
        {
            @Html.ActionLink("Отчёт о выполнении контракта", "ContractReport", "Contract", new { orderid = Model.OrderID, b = Model.BidID }, new { @class = "btn btn-default" })
            @:&nbsp;&nbsp;
            @Html.ActionLink((string)("Задачи" + (ViewBag.NewOrderTasks > 0 ? ", Новых " + ViewBag.NewOrderTasks : "")), "Index", "OrderTask", new { orderid = Model.OrderID }, new { @class = "btn btn-default" })
            @:&nbsp; &nbsp;
        }
        @Html.ActionLink("Назад", "Index", "Bid", null, new { @class = "btn btn-default" })
    </div>
</div>
